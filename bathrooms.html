<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <style type="text/css">
    body, html {width: 100%;height: 100%;margin:0;font-family:"微软雅黑";}
    #allmap{width:100%;height:100%;}
    p{margin:5px; font-size:14px;}
  </style>
  <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=gs27ntpTCyq854arGhDvIWRAW9NqalUN"></script>
  <title>添加/删除工具条、比例尺控件</title>
</head>

<body>
  <div id="allmap"></div>
</body>

</html>

<script type="text/javascript">
  // 百度地图API功能
  var map = new BMap.Map("allmap");
  map.centerAndZoom(new BMap.Point(116.459228,39.942632), 13);

  var top_left_control = new BMap.ScaleControl({anchor: BMAP_ANCHOR_TOP_LEFT});// 左上角，添加比例尺
  var top_left_navigation = new BMap.NavigationControl();  //左上角，添加默认缩放平移控件
  var top_right_navigation = new BMap.NavigationControl({anchor: BMAP_ANCHOR_TOP_RIGHT, type: BMAP_NAVIGATION_CONTROL_SMALL}); //右上角，仅包含平移和缩放按钮
  /*缩放控件type有四种类型:
  BMAP_NAVIGATION_CONTROL_SMALL：仅包含平移和缩放按钮；BMAP_NAVIGATION_CONTROL_PAN:仅包含平移按钮；BMAP_NAVIGATION_CONTROL_ZOOM：仅包含缩放按钮*/

  var opts = {    
   width : 250,     // 信息窗口宽度    
   height: 100,     // 信息窗口高度     // 信息窗口标题  
  }   

  var points = [
  [116.453928,39.942632, "This is Number One", "fox.gif"], 
  [116.459228,39.942632, "bahahahahahh", "fox.gif"]
  []
  ]

  for (x in points) {
    addMarker(points[x][0], points[x][1], points[x][2], points[x][3])
  }

  function addMarker(x_coord, y_coord, info, image) {
    var pt = new BMap.Point(x_coord, y_coord);
    var myIcon = new BMap.Icon("http://developer.baidu.com/map/jsdemo/img/" + image, new BMap.Size(300,157));
    var marker = new BMap.Marker(pt,{icon:myIcon});  // 创建标注
    map.addOverlay(marker)
    var infoWindow = new BMap.InfoWindow(info, opts);
    //点击图标后弹出框
    marker.addEventListener("click", function(e){   
      map.openInfoWindow(infoWindow, pt);
    });
  }

/*
  for (x in points) {
    var pt = new BMap.Point(points[x][0], points[x][1]);
    var myIcon = new BMap.Icon("http://developer.baidu.com/map/jsdemo/img/" + points[x][2], new BMap.Size(300,157));
    var marker = new BMap.Marker(pt,{icon:myIcon});  // 创建标注
    map.addOverlay(marker)

    var opts = {    
     width : 250,     // 信息窗口宽度    
     height: 100,     // 信息窗口高度     // 信息窗口标题  
    }    
    var infoWindow = new BMap.InfoWindow(points[x][3], opts);  // 创建信息窗口对象    
        // 打开信息窗口

    //点击图标后弹出框
    marker.addEventListener("click", function(e){   
      console.log(points[x])
      map.openInfoWindow(infoWindow, pt);
    });

  }
*/

  //添加控件和比例尺
    map.addControl(top_left_control);        
    map.addControl(top_left_navigation);     
</script>
